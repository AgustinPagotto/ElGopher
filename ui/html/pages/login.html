{{define "title"}}Login{{end}} {{define "main"}}
<div class="scnd-header">
  <h1>Login</h1>
</div>
<div id="form-errors" role="alert" aria-live="polite"></div>
{{template "form_error" .Form.FormErrors}}
<form
  hx-post="/user/login"
  hx-target="#form-errors"
  hx-swap="innerHTML"
  hx-indicator="#login-spinner"
  novalidate
  aria-label="Login form"
>
  <input type="hidden" name="csrf_token" value="{{.CSRFToken}}" />
  <label for="email">
    Email
    <input
      type="email"
      id="email"
      name="email"
      autocomplete="email"
      required
      aria-required="true"
      aria-describedby="email-error"
      hx-trigger="change delay:300ms"
      hx-get="/user/login"
      hx-target="#email-error"
    />
    <span id="email-error" role="alert">{{template "field_error" .Form.FieldErrors.email}}</span>
  </label>
  <label for="password">
    Password
    <input
      type="password"
      id="password"
      name="password"
      autocomplete="current-password"
      required
      aria-required="true"
      aria-describedby="password-error"
      hx-trigger="change delay:300ms"
      hx-get="/user/login"
      hx-target="#password-error"
    />
    <span id="password-error" role="alert">{{template "field_error" .Form.FieldErrors.password}}</span>
  </label>
  <button type="submit" aria-label="Log in to your account">
    <span>Log In</span>
    <span id="login-spinner" class="htmx-indicator" aria-hidden="true">‚è≥</span>
  </button>
</form>
{{end}}
